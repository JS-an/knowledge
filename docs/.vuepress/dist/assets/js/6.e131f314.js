(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{355:function(t,s,a){t.exports=a.p+"assets/img/app_upgrade_1.9d534903.png"},356:function(t,s,a){t.exports=a.p+"assets/img/app_upgrade_2.6be63b8b.png"},371:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"flutter-开发问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flutter-开发问题"}},[t._v("#")]),t._v(" Flutter 开发问题")]),t._v(" "),n("h3",{attrs:{id:"软键盘弹起导致布局-overflow"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#软键盘弹起导致布局-overflow"}},[t._v("#")]),t._v(" 软键盘弹起导致布局 overflow")]),t._v(" "),n("blockquote",[n("p",[t._v("原因：在 flutter 中，键盘弹起时会缩小 Scaffold 的高度并重建")]),t._v(" "),n("blockquote",[n("p",[t._v("1.当布局高度固定时，例如设置为屏幕高度，这时候键盘弹起页面上会出现布局 overflow 的提示 2.软键盘弹起后遮挡输入框")])])]),t._v(" "),n("ul",[n("li",[t._v("方法一")])]),t._v(" "),n("ol",[n("li",[t._v("将"),n("code",[t._v("Scaffold")]),t._v("组件的"),n("code",[t._v("resizeToAvoidBottomInset")]),t._v("属性设置为"),n("code",[t._v("false")]),t._v("，这样在键盘弹出时布局将不会重建")]),t._v(" "),n("li",[t._v("把固定的高度改为 "),n("code",[t._v("原高度 - MediaQuery.of(context).viewInsets.bottom")]),t._v("，键盘弹出时布局将重建，而这个"),n("code",[t._v("MediaQuery.of(context).viewInsets.bottom")]),t._v("变量在键盘弹出前是 0，键盘弹起后的就是键盘的高度")])]),t._v(" "),n("ul",[n("li",[t._v("方法二")])]),t._v(" "),n("ol",[n("li",[t._v("布局放入可滚动的"),n("code",[t._v("Widget")]),t._v("中即可，当输入框获取焦点后，系统会自动将它滑动到可视区域")])]),t._v(" "),n("h3",{attrs:{id:"国际化问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#国际化问题"}},[t._v("#")]),t._v(" 国际化问题")]),t._v(" "),n("ol",[n("li",[t._v('文件名"l10n"为小写的 L\n'),n("blockquote",[n("p",[t._v("我使用的是 I10n（带有大写字母 I）而不是 l10n（带有小写字母 l）。它发生在我得知 l10n 代表本地化时。\n所以我将 I10n.yaml 和 I10n 文件夹的名称从大写的“i”更改为小写的“L”，然后代码生成器就可以工作了。我觉得自己好傻 xD\n我还想指出，我现在什至不需要在任何地方进行导入，只需添加对 pubspec.yaml 的依赖和 'generate: true' 标志，并定义 l10n.yaml 和 l10n 文件夹，足以让代码生成器正常工作。\n谢谢您的帮助。我只是希望有一个注释可以帮助解决这个问题，因为现在到处都是，大写 I 的写法与小写 L 完全相同。")])])])]),t._v(" "),n("h3",{attrs:{id:"页面缓存-keeplive"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#页面缓存-keeplive"}},[t._v("#")]),t._v(" 页面缓存（keeplive）")]),t._v(" "),n("blockquote",[n("p",[t._v("必须实现以下注释")])]),t._v(" "),n("div",{staticClass:"language-dart extra-class"},[n("pre",{pre:!0,attrs:{class:"language-dart"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 该 MePage 组件必须用特定控件包裹，例如：PageView，TabBarView")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.必须是 StatefulWidget 组件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MePage")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StatefulWidget")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("MePage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Key"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token metadata symbol"}},[t._v("@override")]),t._v("\n  State"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MePage"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("_MePageState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.混入 AutomaticKeepAliveClientMixin")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("_MePageState")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("State")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MePage"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" AutomaticKeepAliveClientMixin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3.重写 wantKeepAlive")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token metadata symbol"}},[t._v("@override")]),t._v("\n  bool "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" wantKeepAlive "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  Widget "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BuildContext context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4.调用父类 build")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"flutter-应用问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flutter-应用问题"}},[t._v("#")]),t._v(" Flutter 应用问题")]),t._v(" "),n("h3",{attrs:{id:"flutter-app-升级功能流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flutter-app-升级功能流程"}},[t._v("#")]),t._v(" Flutter App 升级功能流程")]),t._v(" "),n("blockquote",[n("p",[t._v("应用程序升级功能是 App 的基础功能之一，如果没有此功能会造成用户无法升级，应用程序的 bug 或者新功能老用户无法触达，甚至损失这部分用户。")])]),t._v(" "),n("h4",{attrs:{id:"升级方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#升级方式"}},[t._v("#")]),t._v(" 升级方式")]),t._v(" "),n("p",[n("strong",[t._v("从平台方面来说：")])]),t._v(" "),n("ul",[n("li",[t._v("IOS 平台，应用程序升级功能只能通过跳转到 app store 进行升级。")]),t._v(" "),n("li",[t._v("Android 平台，既可以通过跳转到应用市场进行升级，也可以下载 apk 包升级。")])]),t._v(" "),n("p",[n("strong",[t._v("从强制性来说可以分别强制升级和非强制升级：")])]),t._v(" "),n("ul",[n("li",[t._v("强制升级：就是用户必须升级才能继续使用 App，如果不是非常必要不建议使用如此强硬的方式，会造成用户的反感。")]),t._v(" "),n("li",[t._v("非强制升级就是允许用户点击“取消”，继续使用 App。")])]),t._v(" "),n("h4",{attrs:{id:"升级流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#升级流程"}},[t._v("#")]),t._v(" 升级流程")]),t._v(" "),n("p",[n("strong",[t._v("IOS 升级流程")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("IOS 升级流程如下：\n"),n("img",{attrs:{src:a(355),alt:""}})])]),t._v(" "),n("li",[n("p",[t._v("流程说明：")])])]),t._v(" "),n("ol",[n("li",[t._v("通常我们会访问后台接口获取是否有新的版本，如果有新的版本则弹出提示框，判断当前版本是否为“强制升级”，如果是则只提供用户一个“升级”的按钮，否则提供用户“升级”和“取消”按钮。")]),t._v(" "),n("li",[t._v("弹出提示框后用户选择是否升级，如果选择“取消”，提示框消失，如果选择“升级”，跳转到 app store 进行升级。")])]),t._v(" "),n("p",[n("strong",[t._v("Android 升级流程")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("相比 ios 的升级过程，Android 就稍显复杂了，流程图如下：\n"),n("img",{attrs:{src:a(356),alt:""}})])]),t._v(" "),n("li",[n("p",[t._v("流程说明：")])])]),t._v(" "),n("ol",[n("li",[t._v("访问后台接口获取是否有新的版本，这里和 IOS 是一样的，有则弹出升级提示框，判断当前版本是否为“强制升级”，如果是则只提供用户一个“升级”的按钮，否则提供用户“升级”和“取消”按钮。")]),t._v(" "),n("li",[t._v("弹出提示框后有用户选择是否升级，如果选择“取消”，提示框消失，如果选择“升级”，判断是跳转到应用市场进行升级还是通过下载 apk 升级。")]),t._v(" "),n("li",[t._v("如果下载 apk 升级，则开始下载 apk，下载完成后跳转到 apk 安装引导界面。")]),t._v(" "),n("li",[t._v("如果跳转到应用市场升级，判断是否指定了应用市场，比如只在华为应用市场上架了，那么此时需要指定跳转到华为应用市场，即使你在很多应用市场都上架了，也应该根据用户手机安装的应用市场指定一个应用市场，让用户选择应用市场不是一个好的体验，而且用户也不知道应该去哪个市场更新，如果用户选择了一个你没有上架的应用市场，那就更尴尬了。")]),t._v(" "),n("li",[t._v("指定应用市场后直接跳转到指定的应用市场的更新界面。")])]),t._v(" "),n("h4",{attrs:{id:"增量更新"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#增量更新"}},[t._v("#")]),t._v(" 增量更新")]),t._v(" "),n("blockquote",[n("p",[t._v("Apple 不允许不经过 App Store 更新应用；在 App Store 上的更新 apple 自动做了增量计算，增量更新；12306 不是更新应用，而是更新应用本地的资源文件。")])]),t._v(" "),n("h2",{attrs:{id:"flutter-应用功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flutter-应用功能"}},[t._v("#")]),t._v(" Flutter 应用功能")]),t._v(" "),n("h3",{attrs:{id:"flutter-第三方登录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flutter-第三方登录"}},[t._v("#")]),t._v(" Flutter 第三方登录")]),t._v(" "),n("h4",{attrs:{id:"谷歌登录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#谷歌登录"}},[t._v("#")]),t._v(" 谷歌登录")]),t._v(" "),n("p",[t._v("** Android **")]),t._v(" "),n("ol",[n("li",[t._v("前往"),n("a",{attrs:{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Firebase"),n("OutboundLink")],1),t._v("创建项目")]),t._v(" "),n("li",[t._v("侧边栏进入 build -> Authentication -> Sign-in method，开启 Google 项")]),t._v(" "),n("li",[t._v("侧边栏进入 Project Overview,创建 APP,进入 APP 设置，填写基本信息")]),t._v(" "),n("li",[t._v("我们在使用第三方服务时一般要申请 key，而申请 key 一般需要包名或者 SHA1。一般这个 SHA1 值分为两种，测试版和发布版。可以分别通过 debug.keystore 和 release.keystore 获取。")]),t._v(" "),n("li",[t._v("使用 keytool 创建 keystore，并获取 SHA-1、SHA-256，并填写到对应 APP 信息中, 如下(注意路径):")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Program Files"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("jdk1.8.0_311"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("bin\nkeytool -list -v -keystore "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:\\Users\\Admin\\.android\\debug.keystore"')]),t._v("\n// 如果没有设置密码，直接回车，输入密码时有可能不显示任何东西，你只需要按照正确的输入即可，输入完后回车\n// 确保debug.keystore文件已经存在\n// 文件名称为：my-key-debug.keystore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" 你可以输入命令keytool -list -v -keystore my-key-debug.keystore\n")])])]),n("ol",{attrs:{start:"6"}},[n("li",[t._v("下载 google-services.json 放入 android/app/")]),t._v(" "),n("li",[t._v("配置 OAuth 同意屏")]),t._v(" "),n("li",[t._v("配置 android/build.gradle")]),t._v(" "),n("li",[t._v("配置 android/app/build.gradle(注意 app 下的会有 JAVA 和 kotlin 代码可以复制)")]),t._v(" "),n("li",[t._v("编写代码(下为示例)")])]),t._v(" "),n("div",{staticClass:"language-dart extra-class"},[n("pre",{pre:!0,attrs:{class:"language-dart"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'package:flutter/material.dart'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// import 'package:firebase_core/firebase_core.dart';")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'package:firebase_auth/firebase_auth.dart'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'package:google_sign_in/google_sign_in.dart'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'package:fluttertoast/fluttertoast.dart'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AllAuth")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" FirebaseAuth _auth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FirebaseAuth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" GoogleSignIn _googleSignIn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("GoogleSignIn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    scopes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'email'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.googleapis.com/auth/contacts.readonly'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("signInWithGoogle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      GoogleSignInAccount"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" googleUser "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" _googleSignIn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("signIn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      GoogleSignInAuthentication googleAuth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" googleUser"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("authentication"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" AuthCredential credential "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GoogleAuthProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("credential")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        accessToken"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" googleAuth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accessToken"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        idToken"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" googleAuth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idToken"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("googleAuth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accessToken"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("googleAuth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idToken"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("googleUser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// FirebaseUser user = (await _auth.signInWithCredential(credential)).user;")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// assert(user.email != null);")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// assert(user.displayName != null);")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// assert(!user.isAnonymous);")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// assert(await user.getIdToken() != null);")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IdTokenResult idTokenResult = await user.getIdToken(refresh: true);")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// print(idTokenResult.token);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      Fluttertoast"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("showToast")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n          msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Auth error"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          backgroundColor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Colors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("grey"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          toastLength"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Toast"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LENGTH_SHORT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          fontSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("ul",[n("li",[t._v("IOS")])])])}),[],!1,null,null,null);s.default=e.exports}}]);